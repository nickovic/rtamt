/**
  RSS - Responsibility-Sensitive Safety (longitudinal)
  Ratio between relative distance between two vehicle and their relative velocity
  Assumptions:
  (1) npc in front of ego
  (2) npc and ego in the same lane

  If assumptions are violated, RSS = +inf (no collision can occur)

**/

specification RSS
  float dist_lon_ego_npc
  float velocity_ego
  float velocity_npc
  bool cond
  bool back_ego_npc
  float safe_dist
  const float tau = 0.1
  const float acc_max = 5
  const float break_min = 4
  const float break_max = 8

  cond = back_ego_npc

  safe_dist = velocity_ego * tau + 0.5 * acc_max * pow(tau, 2) + pow(velocity_ego + tau*acc_max, 2) / (2 * break_min) - pow(velocity_npc, 2) / (2 * break_max)

  cond -> (dist_lon_ego_npc >= safe_dist)
